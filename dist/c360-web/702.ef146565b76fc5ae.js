"use strict";(self.webpackChunkc360_web=self.webpackChunkc360_web||[]).push([[702],{4702:(I,c,r)=>{r.r(c),r.d(c,{TransferFundModule:()=>U});var l=r(6895),m=r(284),f=r(1581),g=r(6308),p=r(1572),h=r(2143),b=r(529),d=r(9636),n=r(4650),C=r(5159),a=r(4006);function T(e,s){if(1&e&&(n.TgZ(0,"label",17),n._uU(1),n.qZA()),2&e){const t=n.oxw();n.xp6(1),n.Oqu(t.error)}}const A=[{path:"",component:(()=>{class e{constructor(t,o){this.accountService=t,this.route=o,this.fund={AccountNumber:"",IFSC:"",Amount:""},this.isError=!1,this.dataUpdate={id:"",balance:""}}ngOnInit(){this.route.params.subscribe(t=>{this.fund.AccountNumber=t.accountNumber,this.fund.IFSC=t.ifsc})}formSubmit(){this.accountService.getAccountByNumber(this.fund.AccountNumber).subscribe(t=>{console.log(this.fund),console.log("this--\x3e",t),null==t||null==t?(this.isError=!0,this.error="Account Number Not Found"):(this.transferUserBalance=parseInt(t.balance)+parseInt(this.fund.Amount),this.transferUserId=t.id,this.accountUserId=localStorage.getItem("accountId"),this.accountService.getAccountById(this.accountUserId).subscribe(o=>{console.log(o),this.currentUserBalance=o.balance,this.currentUserBalance<parseInt(this.fund.Amount)?(this.isError=!0,this.error="Insufficient Funds In Account"):(console.log("********* ",parseInt(this.fund.AccountNumber)-parseInt(this.currentUserBalance)),this.currentUserBalance=parseInt(this.currentUserBalance)-parseInt(this.fund.Amount),console.log("--------------------\x3e",this.transferUserId),this.dataUpdate.id=this.transferUserId,this.dataUpdate.balance=this.transferUserBalance,console.log(this.dataUpdate),this.accountService.updateAccountBalance(this.dataUpdate).subscribe(u=>{}),this.dataUpdate.id=this.accountUserId,this.dataUpdate.balance=this.currentUserBalance,this.accountService.updateAccountBalance(this.dataUpdate).subscribe(u=>{}))}))})}}return e.\u0275fac=function(t){return new(t||e)(n.Y36(C.B),n.Y36(d.gz))},e.\u0275cmp=n.Xpm({type:e,selectors:[["app-transfer-fund"]],decls:34,vars:4,consts:[[1,"bootstrap-wrapper"],[1,"container"],[1,"row",2,"margin-top","20px"],[1,"col-md-6","offset-md-3"],[1,"logo-container","text-center"],["src","../../../assets/signuplogo.jpg","alt",""],[1,"text-center"],[1,"text-center",3,"ngSubmit"],[1,"main-form"],["appearance","fill",1,"full-width"],["matInput","","name","AccountNumber","matInput","","placeholder","Enter here","disabled","",1,"text-act",3,"ngModel","ngModelChange"],["matInput","","name","IFSC","matInput","","placeholder","Enter here","disabled","",1,"text-ifsc",3,"ngModel","ngModelChange"],["matInput","","name","Amount","matInput","","placeholder","Enter here",1,"text-amt",3,"ngModel","ngModelChange"],[1,"submit-form"],["mat-raised-button","","color","primary","type","submit"],["mat-raised-button","","color","primary",2,"margin-left","20px"],["class","error",4,"ngIf"],[1,"error"]],template:function(t,o){1&t&&(n.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4),n._UZ(5,"img",5),n.qZA(),n.TgZ(6,"h1",6),n._uU(7,"Transfer Here !!"),n.qZA(),n.TgZ(8,"form",7),n.NdJ("ngSubmit",function(){return o.formSubmit()}),n.TgZ(9,"div",8)(10,"mat-form-field",9)(11,"mat-label"),n._uU(12,"Account Number"),n.qZA(),n.TgZ(13,"input",10),n.NdJ("ngModelChange",function(i){return o.fund.AccountNumber=i}),n.qZA()(),n._UZ(14,"br"),n.TgZ(15,"mat-form-field",9)(16,"mat-label"),n._uU(17,"IFSC"),n.qZA(),n.TgZ(18,"input",11),n.NdJ("ngModelChange",function(i){return o.fund.IFSC=i}),n.qZA()(),n._UZ(19,"br"),n.TgZ(20,"mat-form-field",9)(21,"mat-label"),n._uU(22,"Amount"),n.qZA(),n.TgZ(23,"input",12),n.NdJ("ngModelChange",function(i){return o.fund.Amount=i}),n.qZA()()(),n._UZ(24,"br"),n.TgZ(25,"div",13)(26,"button",14),n._uU(27,"Transfer"),n.qZA(),n.TgZ(28,"button",15),n._uU(29,"Clear"),n.qZA()()(),n._UZ(30,"br")(31,"br")(32,"br"),n.YNc(33,T,2,1,"label",16),n.qZA()()()()),2&t&&(n.xp6(13),n.Q6J("ngModel",o.fund.AccountNumber),n.xp6(5),n.Q6J("ngModel",o.fund.IFSC),n.xp6(5),n.Q6J("ngModel",o.fund.Amount),n.xp6(10),n.Q6J("ngIf",o.isError))},dependencies:[l.O5,a._Y,a.Fj,a.JJ,a.JL,a.On,a.F],styles:["html[_ngcontent-%COMP%], body[_ngcontent-%COMP%]{height:100%}body[_ngcontent-%COMP%]{margin:0;font-family:Robto,Helvetica Neue,sans-serif}.text-center[_ngcontent-%COMP%]{text-align:center}img[_ngcontent-%COMP%]{width:70px;height:90px}.full-width[_ngcontent-%COMP%]{width:70%}.container[_ngcontent-%COMP%]{min-width:1000px!important}.text-act[_ngcontent-%COMP%]{margin-left:15px}.text-ifsc[_ngcontent-%COMP%]{margin-left:92px}.text-amt[_ngcontent-%COMP%]{margin-left:71px}.logo-container[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center}.submit-form[_ngcontent-%COMP%]{margin-left:30px}.error[_ngcontent-%COMP%]{margin-left:173px;color:red;font-weight:700}"]}),e})()}];let U=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=n.oAB({type:e}),e.\u0275inj=n.cJS({imports:[l.ez,m.c,f.TU,g.JX,p.Cq,h.p0,b.JF,a.u5,d.Bz.forChild(A)]}),e})()}}]);